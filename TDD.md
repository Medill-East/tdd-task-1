# TDD

标签（空格分隔）： 融核软工坊

---

# wifi室内导航

## 描述

通过手机到不同Wifi的强度，计算手机的当前位置。通过选择目标地址，画出路线。当行动时，给出当前位置。   
给出基本设计和主要的测试用例。  
可以这样理解该题目的需求。  
小组有N个人，最好的就是将系统分配给尽量多的人，能让大家并行开发。这个场景是将来团队开发中常见的。拿到一个任务，工作量也不小，手头有几号人，如何将任务分配下去，各人完成一块其实是个挑战。弄不好你发现任务分割不下去，只有自己一个人来完成。在TDD的架构下，我们能将任务分配好，让每个领到任务的人，都能边写测试边开发生产代码，也就是能用TDD完成他们的任务。我们应该怎样来做？不要拘泥于用什么工具描写任务的分配（写word，写uml、还是其它什么方式），关键看我们能否完成基本目标，如何完成（关注的是逻辑的合理性，不是用什么工具表达这个逻辑本身）。

已经在预先已知的地点部署了几个无线路由器（wifi ap），手机可以同时收到不同ap的信号（信号强度体现 手机与ap之间的相对距离，两者直接的其他可能影响信号强度的因素，比如墙体等）

---

# 基本设计

## 需求
* 通过手机到不同wifi的强度，计算手机的当前位置
* 通过选择目标地址，画出路线
* 当行动时，给出当前位置

## 假设
* 测定区域有限
* 已经在预先已知的地点部署了几个wifi ap
* 手机可以同时收到不同ap的信号
* 信号强度由手机与ap间的相对距离直接影响
* 手机与ap间的障碍物也可影响信号强度

## 输入
* wifi ap列表
* 有障碍物标识的地图
* 手机在不同位置处的wifi信号强度

## 单元模块
* 位置获取：根据当前点手机到不同wifi的强度计算手机当前位置
* 路线规划：给定位置之后规划路线
* 位置标识：将当前位置在可视化地图中进行实时显示

---

# 测试用例

## 用例编号 1-1
* 测试目的：测试单元模块1，获取当前位置
* 操作步骤
 * 给定当前位置处不同wifi的强度信息
 * 查看是否能正确获取当前位置
* 预期结果
 * 位置获取模块能够根据当前点wifi强度正确返回当前位置
 
## 用例测试 1-2
* 测试目的：测试单元模块2，给定位置之后规划路线
* 操作步骤
 * 给定测试区域内有障碍标识的地图
 * 给定目标点位置
 * 查看是否能够给出避开障碍的正确路径
* 预期结果
 * 路线规划模块能够依据给定位置返回避开障碍的正确路径
 
## 用例测试 1-3
* 测试目的：测试单元模块3，将当前位置在可视化地图中实时显示
* 操作步骤
 * 给出测试区域内的有障碍标识的地图
 * 查看静立时在可视化地图中的位置标识
 * 查看移动时在可视化地图中的位置标识
* 预期结果
 * 静立时能够在可视化地图中正确标识出当前位置
 * 移动时能够在可视化地图中正确标识出当前位置